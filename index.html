<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Map - Track Every Great Meal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  
  <!-- ============================================ -->
  <!-- LANDING PAGE VIEW -->
  <!-- ============================================ -->
  <div id="landing-view" class="view active">
    <nav class="landing-nav">
      <div class="nav-container">
        <div class="logo">
          <span class="logo-text">Food Tracker</span>
        </div>
        <button id="theme-toggle-landing" class="theme-toggle" aria-label="Toggle theme">
          <span class="theme-icon">ğŸŒ™</span>
        </button>
      </div>
    </nav>

    <section class="hero">
      <div class="hero-content">
        <h1 class="hero-title">
          Track Every<br>
          <span class="gradient-text">Great Meal</span>
        </h1>
        <p class="hero-description">
          Your personal tracker for amazing restaurants, cafÃ©s & bars.<br>
          Never forget a great place again.
        </p>
        <div class="hero-actions">
          <button id="start-app-btn" class="btn btn-primary btn-large">
            Start Mapping
            <span class="btn-icon">â†’</span>
          </button>
        </div>
      </div>
      
      <div class="hero-visual">
        <div class="floating-card card-1">
          <div class="card-icon">ğŸ“</div>
          <div class="card-text">Pin places you love</div>
        </div>
        <div class="floating-card card-2">
          <div class="card-icon">ğŸ·ï¸</div>
          <div class="card-text">Tag & organize</div>
        </div>
        <div class="floating-card card-3">
          <div class="card-icon">ğŸ’¬</div>
          <div class="card-text">Add personal notes</div>
        </div>
      </div>
    </section>

    <section class="features">
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ—ºï¸</div>
          <h3>Interactive Map</h3>
          <p>Visualize all your favorite places on a beautiful map</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ·ï¸</div>
          <h3>Smart Tags</h3>
          <p>Organize with tags like "cheap", "fancy", "good tapas"</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ’¾</div>
          <h3>Your Data</h3>
          <p>Export anytime. Your memories, your control</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">âš¡</div>
          <h3>Lightning Fast</h3>
          <p>Works offline. No loading. Instant search</p>
        </div>
      </div>
    </section>
  </div>

  <!-- ============================================ -->
  <!-- APP VIEW -->
  <!-- ============================================ -->
  <div id="app-view" class="view">
    
    <!-- Top Navigation -->
    <nav class="app-nav">
      <div class="nav-container">
        <div class="logo">
          <span class="logo-text">Food Tracker</span>
        </div>
        
        <div class="nav-tabs">
          <button id="tab-dashboard" class="nav-tab active" data-view="dashboard">
            <span class="tab-icon">ğŸ“Š</span>
            Dashboard
          </button>
          <button id="tab-map" class="nav-tab" data-view="map">
            <span class="tab-icon">ğŸ—ºï¸</span>
            Map
          </button>
        </div>

        <div class="nav-actions">
          <button id="theme-toggle-app" class="theme-toggle" aria-label="Toggle theme">
            <span class="theme-icon">ğŸŒ™</span>
          </button>
        </div>
      </div>
    </nav>

    <!-- Dashboard View -->
    <div id="dashboard-content" class="content-view active">
      <div class="dashboard-container">
        
        <!-- Stats Cards -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">ğŸ“</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-total">0</div>
              <div class="stat-label">Total Places</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ·ï¸</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-tags">0</div>
              <div class="stat-label">Unique Tags</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">â­</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-top">-</div>
              <div class="stat-label">Top Tag</div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="dashboard-section">
          <h2 class="section-title">Quick Actions</h2>
          <div class="actions-grid">
            <button id="quick-add-btn" class="action-card">
              <div class="action-icon">â•</div>
              <div class="action-text">Add Place</div>
            </button>
            <button id="quick-export-btn" class="action-card">
              <div class="action-icon">ğŸ“¥</div>
              <div class="action-text">Export Data</div>
            </button>
            <button id="quick-import-btn" class="action-card">
              <div class="action-icon">ğŸ“¤</div>
              <div class="action-text">Import Data</div>
            </button>
            <button id="quick-map-btn" class="action-card">
              <div class="action-icon">ğŸ—ºï¸</div>
              <div class="action-text">View Map</div>
            </button>
          </div>
        </div>

        <!-- Recent Places -->
        <div class="dashboard-section">
          <h2 class="section-title">Recent Places</h2>
          <div id="recent-places" class="places-list">
            <!-- Populated by JS -->
          </div>
        </div>

      </div>
    </div>

    <!-- Map View -->
    <div id="map-content" class="content-view">
      <div class="map-container">
        
        <!-- Sidebar -->
        <aside class="map-sidebar">
          <div class="sidebar-section">
            <div class="section-header">
              <h3>Search</h3>
            </div>
            <input 
              type="text" 
              id="search-input" 
              class="search-input" 
              placeholder="Search places..."
            >
          </div>

          <div class="sidebar-section">
            <div class="section-header">
              <h3>Filter by Tags</h3>
              <button id="clear-filters-btn" class="btn-link">Clear</button>
            </div>
            <div id="tag-filters" class="tag-filters">
              <!-- Tags populated by JS -->
            </div>
          </div>

          <div class="sidebar-section">
            <button id="add-poi-btn" class="btn btn-primary btn-block">
              â• Add Place
            </button>
          </div>

          <div class="sidebar-section">
            <div class="section-header">
              <h3>Data</h3>
            </div>
            <div class="data-actions">
              <button id="export-btn" class="btn btn-secondary btn-block">ğŸ“¥ Export</button>
              <button id="import-btn" class="btn btn-secondary btn-block">ğŸ“¤ Import</button>
            </div>
          </div>
        </aside>

        <!-- Map -->
        <main class="map-main">
          <div id="map"></div>
          <div class="map-controls">
            <button id="locate-btn" class="map-control-btn" title="Fit all markers">
              <span>ğŸ¯</span>
            </button>
          </div>
        </main>

      </div>
    </div>

  </div>

  <!-- ============================================ -->
  <!-- POI MODAL -->
  <!-- ============================================ -->
  <div id="poi-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Add Place</h2>
        <button id="modal-close" class="modal-close" aria-label="Close">Ã—</button>
      </div>
      
      <form id="poi-form" class="modal-form">
        <input type="hidden" id="poi-id">
        
        <div class="form-group">
          <label for="poi-name">Name *</label>
          <input type="text" id="poi-name" name="name" required placeholder="Restaurant name">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="poi-lat">Latitude *</label>
            <input type="number" id="poi-lat" name="lat" step="any" required placeholder="40.4168">
          </div>
          <div class="form-group">
            <label for="poi-lng">Longitude *</label>
            <input type="number" id="poi-lng" name="lng" step="any" required placeholder="-3.7038">
          </div>
        </div>

        <div class="form-group">
          <label for="poi-tags">Tags</label>
          <input type="text" id="poi-tags" name="tags" placeholder="cheap, good food, tapas">
          <small>Comma separated</small>
        </div>

        <div class="form-group">
          <label for="poi-comments">Notes</label>
          <textarea id="poi-comments" name="comments" rows="4" placeholder="Your notes about this place..."></textarea>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Save</button>
          <button type="button" id="cancel-btn" class="btn btn-secondary">Cancel</button>
          <button type="button" id="delete-btn" class="btn btn-danger" style="display: none;">Delete</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Hidden file input -->
  <input type="file" id="import-input" accept=".json,.geojson" style="display: none;">

  <script type="module" src="/src/main.ts"></script>
</body>
</html>